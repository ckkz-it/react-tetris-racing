{"version":3,"sources":["utils/constants.ts","utils/helpers.ts","hooks/useStage.ts","hooks/usePlayer.ts","hooks/useInterval.ts","components/Stage/StyledStage.ts","components/Cell/StyledCell.ts","components/Cell/index.tsx","components/StageOverlay/StyledStageOverlay.ts","components/StageOverlay/index.tsx","components/Stage/StyledGameOver.ts","components/Stage/StyledHighScore.ts","components/Stage/StyledStartMessage.ts","components/Stage/index.tsx","components/Button/StyledButton.ts","components/Button/index.tsx","components/Display/StyledDisplay.ts","components/Display/index.tsx","components/Wrapper.ts","components/Aside.ts","components/Keyboard/StyledKeyboard.ts","components/Keyboard/StyledKey.ts","App.tsx","components/Keyboard/Key.tsx","components/Keyboard/index.tsx","hooks/useScore.ts","serviceWorker.ts","index.tsx"],"names":["KeyToMove","CAR_SHAPES","ArrowCode","MOVE_POSITION","UP","x","y","DOWN","LEFT","RIGHT","EXPLOSION_SHAPES","CellType","checkCarsCollision","player","cars","moveX","moveY","car","pos","shape","length","isMobile","window","innerWidth","useStage","borders","explosion","useState","Array","from","fill","stage","setStage","drawOnStage","newStage","clear","forEach","row","cell","useEffect","prev","prevStage","map","b","updateStage","shapeNumber","iteration","initialPlayer","STAGE_WIDTH","STAGE_HEIGHT","useInterval","callback","delay","savedCallback","useRef","current","id","setInterval","clearInterval","StyledStage","styled","div","props","height","width","StyledCell","type","React","memo","StyledStageOverlay","GameOver","children","Stage","gameOver","highScore","gameStarted","cells","value","key","StageOverlay","StyledGameOver","StyledHighScore","StyledStartMessage","StyledButton","button","Button","text","rest","onClick","StyledDisplay","Display","Wrapper","Aside","aside","StyledKeyboard","timeoutId","StyledKey","KeyWrapper","Key","direction","onPress","Keyboard","onKeyDown","App","speed","setSpeed","secondsElapsed","setSecondsElapsed","setCars","setBorders","setExplosion","setGameOver","ticks","setTicks","setGameStarted","setPlayer","usePlayer","updatePlayerPos","resetPlayer","score","setScore","hs","localStorage","getItem","Number","setItem","toString","removeItem","useScore","getHighScore","saveHighScore","resetHighScore","movePlayer","clearTimeout","setTimeout","movePosition","constants","checkWallCollision","endGame","_movePlayer","produceCars","sh","min","max","newCars","filter","c","lastSpawnedCar","Math","ceil","floor","random","push","t","newBorders","concat","produceBorders","s","e","addEventListener","preventDefault","disabled","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.f5a69f94.chunk.js","sourcesContent":["import { Coordinate } from './interfaces';\n\nexport const STAGE_WIDTH = 10;\nexport const STAGE_HEIGHT = 18;\nexport const INITIAL_SPEED = 400;\nexport const HIGH_SCORE_KEY = 'tetrisHighScore';\nexport const RANDOM_CAR_SHAPES = false;\n\nexport const CAR_SHAPES = [\n  [\n    [0, 1, 0],\n    [1, 1, 1],\n    [0, 1, 0],\n    [1, 0, 1],\n  ],\n  [\n    [0, 1, 0],\n    [1, 1, 1],\n    [1, 1, 1],\n    [0, 1, 0],\n    [1, 1, 1],\n  ],\n  [\n    [1, 0, 1],\n    [1, 1, 1],\n    [0, 1, 0],\n    [1, 0, 1],\n  ],\n];\n\nexport enum KeyToMove {\n  UP = 'ArrowUp',\n  DOWN = 'ArrowDown',\n  LEFT = 'ArrowLeft',\n  RIGHT = 'ArrowRight',\n}\n\nexport const MOVE_POSITION: { [key: string]: Coordinate } = {\n  [KeyToMove.UP]: { x: 0, y: -1 },\n  [KeyToMove.DOWN]: { x: 0, y: 1 },\n  [KeyToMove.LEFT]: { x: -3, y: 0 },\n  [KeyToMove.RIGHT]: { x: 3, y: 0 },\n};\n\nexport const EXPLOSION_ITERATIONS = 10;\nexport const EXPLOSION_SHAPES = [\n  [\n    [0, 0, 1],\n    [1, 1, 1],\n    [1, 1, 0],\n    [1, 0, 1],\n  ],\n  [\n    [0, 1, 0],\n    [1, 1, 0],\n    [1, 1, 1],\n    [1, 0, 0],\n  ],\n  [\n    [0, 0, 1],\n    [0, 1, 1],\n    [1, 1, 0],\n    [0, 1, 1],\n  ],\n  [\n    [0, 1, 0],\n    [1, 1, 1],\n    [1, 1, 0],\n    [0, 1, 1],\n  ],\n  [\n    [0, 1, 0],\n    [1, 0, 1],\n    [0, 1, 1],\n    [1, 0, 0],\n  ],\n];\n\nexport const CellType = {\n  DARK: '/img/dark_texture.jpg',\n  LIGHT: '/img/light_texture.jpg',\n};\n\nexport enum ArrowCode {\n  LEFT = '\\u2190',\n  UP = '\\u2191',\n  DOWN = '\\u2193',\n  RIGHT = '\\u2192',\n}\n","import { Car, Coordinate, Stage } from './interfaces';\nimport { STAGE_HEIGHT, STAGE_WIDTH } from './constants';\n\nexport const createStage = (): Stage => Array.from(new Array(STAGE_HEIGHT), () => new Array(STAGE_WIDTH).fill(0));\n\nexport const createBorders = (): Coordinate[] => {\n  return [\n    { x: 0, y: -1 },\n    { x: 0, y: -2 },\n    { x: 0, y: -3 },\n    { x: STAGE_WIDTH - 1, y: -1 },\n    { x: STAGE_WIDTH - 1, y: -2 },\n    { x: STAGE_WIDTH - 1, y: -3 },\n  ];\n};\n\nexport const checkWallCollision = (player: Car, stage: Stage, { x: moveX, y: moveY }: Coordinate) => {\n  if (\n    // Out to left (including car size)\n    player.pos.x + moveX + player.shape[0].length > STAGE_WIDTH ||\n    // Out to right (including car size)\n    player.pos.x + moveX < 0 ||\n    // Out to bottom (including car size and padding of 1)\n    player.pos.y + moveY + player.shape.length + 1 > STAGE_HEIGHT ||\n    // Out to top (including padding of 1)\n    player.pos.y + moveY - 1 < 0\n  ) {\n    return true;\n  }\n  return false;\n};\n\nexport const checkCarsCollision = (player: Car, cars: Car[], { x: moveX, y: moveY }: Coordinate) => {\n  for (const car of cars) {\n    if (\n      player.pos.x + moveX === car.pos.x &&\n      // Hit car moving from left to right or vice versa being on same level of lower\n      ((player.pos.y + moveY >= car.pos.y && player.pos.y + moveY < car.pos.y + car.shape.length) ||\n        // Hit car moving from left to right or vice versa being on same level of higher\n        (player.pos.y + moveY <= car.pos.y && player.pos.y + moveY + player.shape.length > car.pos.y))\n    ) {\n      return car;\n    }\n  }\n  return null;\n};\n\nexport const isMobile = () => window.innerWidth < 756;\n\nexport const getRandomInt = (min: number, max: number) => {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\n","import { useEffect, useState } from 'react';\n\nimport { createStage } from '../utils/helpers';\nimport { Car, Coordinate, Explosion, Hook, Stage } from '../utils/interfaces';\nimport { EXPLOSION_SHAPES, STAGE_HEIGHT } from '../utils/constants';\n\nexport const useStage: Hook<[Stage]> = (player: Car, borders: Coordinate[], cars: Car[], explosion: Explosion) => {\n  const [stage, setStage] = useState(createStage());\n\n  const drawOnStage = (newStage: Stage, shape: number[][], pos: Coordinate, clear = false) => {\n    shape.forEach((row, y) => {\n      row.forEach((cell, x) => {\n        const insideStage = y + pos.y >= 0 && y + pos.y < STAGE_HEIGHT;\n        if (insideStage) {\n          if (clear) {\n            newStage[y + pos.y][x + pos.x] = 0;\n          } else if (cell !== 0) {\n            newStage[y + pos.y][x + pos.x] = 1;\n          }\n        }\n      });\n    });\n  };\n\n  useEffect(() => {\n    const updateStage = (prevStage: Stage): Stage => {\n      // Clear stage\n      const newStage = prevStage.map(row => row.map(() => 0));\n\n      // Draw Player\n      drawOnStage(newStage, player.shape, player.pos);\n\n      // Draw Borders\n      borders.forEach(b => {\n        if (b.y >= 0 && b.y < STAGE_HEIGHT) {\n          newStage[b.y][b.x] = 1;\n        }\n      });\n\n      // Draw Cars\n      cars.forEach(car => drawOnStage(newStage, car.shape, car.pos));\n\n      return newStage;\n    };\n\n    setStage(prev => updateStage(prev));\n  }, [player, borders, cars]);\n\n  useEffect(() => {\n    if (explosion.car !== null) {\n      setStage(prevStage => {\n        const car = explosion.car as Car;\n        const newStage = [...prevStage];\n\n        // Clear Player\n        drawOnStage(newStage, player.shape, player.pos, true);\n\n        // Clear area around Car\n        drawOnStage(newStage, car.shape, car.pos, true);\n\n        // Draw Explosion\n        const shapeNumber = explosion.iteration % (EXPLOSION_SHAPES.length - 1);\n        const shape = EXPLOSION_SHAPES[shapeNumber];\n        drawOnStage(newStage, shape, car.pos);\n\n        return newStage;\n      });\n    }\n  }, [explosion.car, explosion.iteration, player]);\n\n  return [stage];\n};\n","import { useState } from 'react';\n\nimport { Car, Coordinate, Hook } from '../utils/interfaces';\nimport { CAR_SHAPES, STAGE_HEIGHT, STAGE_WIDTH } from '../utils/constants';\n\nconst initialPlayer = {\n  pos: { x: STAGE_WIDTH - 5, y: STAGE_HEIGHT - 5 },\n  shape: CAR_SHAPES[0],\n};\n\nexport const usePlayer: Hook<[Car, (c: Coordinate) => void, () => void]> = () => {\n  const [player, setPlayer] = useState<Car>({ ...initialPlayer });\n\n  const updatePlayerPos = ({ x, y }: Coordinate) => {\n    setPlayer(prev => ({\n      ...prev,\n      pos: { x: prev.pos.x + x, y: prev.pos.y + y },\n    }));\n  };\n\n  const resetPlayer = () => {\n    setPlayer({ ...initialPlayer });\n  };\n\n  return [player, updatePlayerPos, resetPlayer];\n};\n","import { useEffect, useRef } from 'react';\n\nimport { Callback, Hook } from '../utils/interfaces';\n\n\n// https://overreacted.io/making-setinterval-declarative-with-react-hooks/\nexport const useInterval: Hook<void> = (callback: Callback, delay: number | null) => {\n  const savedCallback = useRef<Callback>();\n\n  // Remember the latest callback.\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  // Set up the interval.\n  useEffect(() => {\n    function tick() {\n      if (savedCallback.current) {\n        savedCallback.current();\n      }\n    }\n    if (delay !== null) {\n      const id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n};\n","import styled from 'styled-components';\n\ninterface Props {\n  height: number;\n  width: number;\n}\n\nconst StyledStage = styled.div<Props>`\n  position: relative;\n  display: grid;\n  grid-template-rows: repeat(${props => props.height}, calc(25vw / ${props => props.width}));\n  grid-template-columns: repeat(${props => props.width}, 1fr);\n  box-shadow: -20px 14px 28px rgba(0, 0, 0, 0.6), 50px 10px 10px rgba(0, 0, 0, 0.6);\n  border-style: outset;\n  border-bottom-style: inset;\n  border-width: 10px;\n  border-color: #d2ffd6 #c7f1cc #caf4d0 #a0bda4;\n\n  @media screen and (max-width: 756px) {\n    transform: scale(1.2);\n    margin-bottom: 30px;\n    border-width: 8px;\n  }\n\n  @media screen and (max-width: 596px) {\n    transform: scale(1.5);\n    margin-bottom: 50px;\n    border-width: 5px;\n  }\n\n  @media screen and (max-width: 450px) {\n    transform: scale(1.8);\n    margin-bottom: 70px;\n  }\n`;\n\nexport default StyledStage;\n","import styled from 'styled-components';\n\nimport { STAGE_WIDTH } from '../../utils/constants';\n\ninterface Props {\n  type: string;\n}\n\nconst StyledCell = styled.div<Props>`\n  width: calc(25vw / ${STAGE_WIDTH});\n  background-image: url(${props => props.type});\n  background-size: cover;\n  box-shadow: 1px 1px 10px rgba(65, 103, 67, 0.2);\n`;\n\nexport default StyledCell;\n","import React from 'react';\n\nimport StyledCell from './StyledCell';\n\ninterface Props {\n  type: string;\n}\n\nconst Cell: React.FC<Props> = ({ type }) => <StyledCell type={type} />;\n\nexport default React.memo(Cell);\n","import styled from 'styled-components';\n\nconst StyledStageOverlay = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  padding: 40px;\n  pointer-events: none;\n  white-space: nowrap;\n  background: #000000;\n  border-radius: 5px;\n  opacity: 0.9;\n  text-align: center;\n\n  @media screen and (max-width: 1200px) {\n    padding: 20px;\n  }\n\n  @media screen and (max-width: 900px) {\n    padding: 10px;\n  }\n\n  @media screen and (max-width: 756px) {\n    padding: 8px;\n  }\n\n  @media screen and (max-width: 596px) {\n    padding: 5px;\n  }\n\n  @media screen and (max-width: 400px) {\n    padding: 3px;\n  }\n`;\n\nexport default StyledStageOverlay;\n","import React from 'react';\n\nimport StyledStageOverlay from './StyledStageOverlay';\n\ninterface Props {\n  children: React.ReactNode;\n}\n\nconst GameOver: React.FC<Props> = ({ children }) => <StyledStageOverlay>{children}</StyledStageOverlay>;\n\nexport default GameOver;\n","import styled from 'styled-components';\n\nexport default styled.div`\n  color: #b90000;\n  font-size: 1.7rem;\n\n  @media screen and (max-width: 900px) {\n    font-size: 1.5rem;\n  }\n\n  @media screen and (max-width: 756px) {\n    font-size: 1.2rem;\n  }\n\n  @media screen and (max-width: 596px) {\n    font-size: 0.7rem;\n  }\n  @media screen and (max-width: 400px) {\n    font-size: 0.5rem;\n  }\n`;\n","import styled from 'styled-components';\n\nexport default styled.div`\n  color: #cacaca;\n  font-size: 1.5rem;\n\n  @media screen and (max-width: 900px) {\n    font-size: 1.2rem;\n  }\n\n  @media screen and (max-width: 756px) {\n    font-size: 1rem;\n  }\n\n  @media screen and (max-width: 596px) {\n    font-size: 0.6rem;\n  }\n\n  @media screen and (max-width: 400px) {\n    font-size: 0.4rem;\n  }\n`;\n","import styled from 'styled-components';\n\nexport default styled.div`\n  font-size: 1.1rem;\n  color: #fff;\n\n  @media screen and (max-width: 1200px) {\n    font-size: 1rem;\n  }\n\n  @media screen and (max-width: 900px) {\n    font-size: 0.8rem;\n  }\n\n  @media screen and (max-width: 756px) {\n    font-size: 0.6rem;\n  }\n\n  @media screen and (max-width: 596px) {\n    font-size: 0.5rem;\n  }\n\n  @media screen and (max-width: 400px) {\n    font-size: 0.4rem;\n  }\n`;\n","import React from 'react';\n\nimport { CellType, STAGE_HEIGHT, STAGE_WIDTH } from '../../utils/constants';\nimport { Stage as IStage } from '../../utils/interfaces';\nimport StyledStage from './StyledStage';\nimport Cell from '../Cell';\nimport StageOverlay from '../StageOverlay';\nimport StyledGameOver from './StyledGameOver';\nimport StyledHighScore from './StyledHighScore';\nimport StyledStartMessage from './StyledStartMessage';\nimport { isMobile } from '../../utils/helpers';\n\ninterface Props {\n  stage: IStage;\n  gameOver: boolean;\n  highScore: number;\n  gameStarted: boolean;\n}\n\nconst Stage: React.FC<Props> = ({ stage, gameOver, highScore, gameStarted }) => {\n  const cells = stage.map((row, y) =>\n    row.map((value, x) => <Cell key={`${y}${x}${value}`} type={value !== 0 ? CellType.DARK : CellType.LIGHT} />),\n  );\n  return (\n    <StyledStage width={STAGE_WIDTH} height={STAGE_HEIGHT}>\n      {cells}\n      {gameOver && (\n        <StageOverlay>\n          <>\n            <StyledGameOver>GAME OVER</StyledGameOver>\n            <StyledHighScore>High Score: {highScore}</StyledHighScore>\n          </>\n        </StageOverlay>\n      )}\n      {!gameStarted && (\n        <StageOverlay>\n          <StyledStartMessage>\n            Welcome to tetris racing <br /> To move car use {isMobile() ? 'virtual keyboard' : 'arrow keys'}\n          </StyledStartMessage>{' '}\n        </StageOverlay>\n      )}\n    </StyledStage>\n  );\n};\n\nexport default Stage;\n","import styled from 'styled-components';\n\nconst StyledButton = styled.button`\n  padding: 20px;\n  min-height: 30px;\n  border-radius: 20px;\n  border: 1px solid #333;\n  outline: none;\n  cursor: pointer;\n  font-size: 1rem;\n  background-color: #2d2626;\n  color: #fff;\n  font-family: Tetris, sans-serif;\n  touch-action: manipulation;\n  user-select: none;\n\n  &[disabled] {\n    cursor: default;\n    color: #868485;\n  }\n\n  @media screen and (max-width: 1200px) {\n    padding: 15px;\n    font-size: 0.9rem;\n  }\n\n  @media screen and (max-width: 900px) {\n    padding: 10px;\n    font-size: 0.8rem;\n  }\n\n  @media screen and (max-width: 756px) {\n    font-size: 1.2rem;\n  }\n\n  @media screen and (max-width: 596px) {\n    font-size: 1.1rem;\n  }\n`;\n\nexport default StyledButton;\n","import React from 'react';\n\nimport StyledButton from './StyledButton';\n\ninterface Props {\n  callback: () => void;\n  text: string;\n  disabled?: boolean;\n}\n\nconst Button: React.FC<Props> = ({ callback, text, ...rest }) => {\n  return <StyledButton onClick={callback} {...rest}>{text}</StyledButton>;\n};\n\nexport default Button;\n","import styled from 'styled-components';\n\nconst StyledDisplay = styled.div`\n  display: flex;\n  align-items: center;\n  padding: 20px;\n  border: 4px solid #333;\n  min-height: 30px;\n  border-radius: 20px;\n  color: #999;\n  background: #000;\n  font-size: 1.1rem;\n\n  @media screen and (max-width: 1200px) {\n    padding: 15px;\n  }\n\n  @media screen and (max-width: 900px) {\n    padding: 10px;\n    font-size: 1rem;\n  }\n\n  @media screen and (max-width: 756px) {\n    font-size: 1.3rem;\n  }\n\n  @media screen and (max-width: 596px) {\n    font-size: 1.2rem;\n  }\n`;\n\nexport default StyledDisplay;\n","import React from 'react';\n\nimport StyledDisplay from './StyledDisplay';\n\ninterface Props {\n  text: string;\n}\n\nconst Display: React.FC<Props> = ({ text }) => {\n  return <StyledDisplay>{text}</StyledDisplay>;\n};\n\nexport default Display;\n","import styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n  padding-top: 50px;\n\n  @media screen and (max-width: 756px) {\n    padding-top: 70px;\n  }\n\n  @media screen and (max-width: 596px) {\n    padding-top: 90px;\n  }\n`;\n\nexport default Wrapper;\n","import styled from 'styled-components';\n\nconst Aside = styled.aside`\n  display: flex;\n  flex-direction: column;\n  margin-left: 50px;\n  width: 15%;\n\n  button,\n  div {\n    margin-bottom: 20px;\n  }\n\n  @media screen and (max-width: 756px) {\n    width: 100%;\n    margin: 50px 50px 0 50px;\n\n    button,\n    div {\n      margin-bottom: 10px;\n    }\n  }\n`;\n\nexport default Aside;\n","import styled from 'styled-components';\n\nconst StyledKeyboard = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  text-align: center;\n`;\n\nexport default StyledKeyboard;\n","import styled from 'styled-components';\n\nexport const StyledKey = styled.button`\n  border: 1px solid #252525;\n  color: #252525;\n  padding: 5px;\n  background-color: #808088;\n  width: 100%;\n  margin: 0 !important;\n  outline: none;\n  font-size: 1.4rem;\n  font-weight: bold;\n  touch-action: manipulation;\n  user-select: none;\n`;\n\nexport const KeyWrapper = styled.div`\n  display: flex;\n  margin: 0 !important;\n  width: 100%;\n`;\n","import React, { useState } from 'react';\n\nimport './App.css';\nimport { useStage } from './hooks/useStage';\nimport { usePlayer } from './hooks/usePlayer';\nimport { useInterval } from './hooks/useInterval';\nimport { useScore } from './hooks/useScore';\nimport { checkCarsCollision, checkWallCollision, createBorders, getRandomInt, isMobile } from './utils/helpers';\nimport * as constants from './utils/constants';\nimport { Car, Coordinate, Explosion } from './utils/interfaces';\nimport Stage from './components/Stage';\nimport Button from './components/Button';\nimport Display from './components/Display';\nimport Wrapper from './components/Wrapper';\nimport Aside from './components/Aside';\nimport Keyboard from './components/Keyboard';\n\nlet timeoutId: number | null;\n\nconst App: React.FC = () => {\n  const [speed, setSpeed] = useState<number | null>(null);\n  const [secondsElapsed, setSecondsElapsed] = useState<number>(0);\n  const [cars, setCars] = useState<Car[]>([]);\n  const [borders, setBorders] = useState<Coordinate[]>([]);\n  const [explosion, setExplosion] = useState<Explosion>({ car: null, iteration: 0 });\n  const [gameOver, setGameOver] = useState(false);\n  const [ticks, setTicks] = useState(0);\n  const [gameStarted, setGameStarted] = useState(false);\n\n  const [player, updatePlayerPos, resetPlayer] = usePlayer();\n  const [stage] = useStage(player, borders, cars, explosion);\n  const [score, setScore, getHighScore, saveHighScore, resetHighScore] = useScore();\n\n  const _movePlayer = (key: string) => {\n    const movePosition = constants.MOVE_POSITION[key];\n    if (speed !== null && !gameOver && !checkWallCollision(player, stage, movePosition)) {\n      const car = checkCarsCollision(player, cars, movePosition);\n      if (!car) {\n        updatePlayerPos(movePosition);\n      } else {\n        endGame(car);\n      }\n    }\n  };\n\n  const movePlayer = (key: string) => {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n    }\n    timeoutId = setTimeout(() => {\n      _movePlayer(key);\n    }, 5);\n  };\n\n  const getRandomSide = () => (Math.random() > 0.5 ? constants.STAGE_WIDTH - 5 : 2);\n\n  const startGame = () => {\n    setSpeed(constants.INITIAL_SPEED);\n    setGameStarted(true);\n  };\n\n  const restartGame = () => {\n    setGameOver(false);\n    setExplosion({ car: null, iteration: 0 });\n    setTicks(0);\n    setScore(0);\n    setSecondsElapsed(0);\n    resetPlayer();\n    setSpeed(constants.INITIAL_SPEED);\n    setCars([]);\n    setBorders([]);\n  };\n\n  const endGame = (car: Car) => {\n    setGameOver(true);\n    setExplosion({ car, iteration: 0 });\n    saveHighScore();\n  };\n\n  const produceBorders = () => {\n    let newBorders = (borders as Coordinate[])\n      .filter(b => b.y < constants.STAGE_HEIGHT)\n      .map(b => ({ ...b, y: b.y + 1 }));\n    if (ticks % 4 === 0) {\n      newBorders = newBorders.concat(createBorders());\n    }\n    setBorders(newBorders);\n  };\n\n  const produceCars = () => {\n    const newCars = (cars as Car[])\n      .filter(c => c.pos.y < constants.STAGE_HEIGHT)\n      .map(c => ({ ...c, pos: { ...c.pos, y: c.pos.y + 1 } }));\n    const lastSpawnedCar = newCars[newCars.length - 1];\n    if (newCars.length === 0 || (ticks % getRandomInt(8, 10) === 0 && lastSpawnedCar.pos.y > 4)) {\n      let sh: number[][];\n      if (constants.RANDOM_CAR_SHAPES) {\n        sh = constants.CAR_SHAPES[Math.floor(Math.random() * constants.CAR_SHAPES.length)];\n      } else {\n        sh = constants.CAR_SHAPES[0];\n      }\n      newCars.push({ shape: sh, pos: { x: getRandomSide(), y: -3 } });\n    }\n    setCars(newCars);\n  };\n\n  useInterval(\n    () => {\n      setSecondsElapsed(t => t + 1);\n    },\n    gameOver ? null : 1000,\n  );\n\n  useInterval(\n    () => {\n      produceBorders();\n      produceCars();\n\n      setTicks(t => t + 1);\n\n      // Increase speed every 30 seconds\n      if (speed !== null && secondsElapsed !== 0 && secondsElapsed % 30 === 0) {\n        setSpeed(speed / 1.1);\n      }\n      const car = checkCarsCollision(player, cars, { x: 0, y: -1 });\n      if (car) {\n        endGame(car);\n        return;\n      }\n\n      setScore((s: number) => Math.floor(s + (1000 / (speed as number)) * 10));\n    },\n    gameOver ? null : speed,\n  );\n\n  useInterval(\n    () => {\n      setExplosion(e => ({ ...e, iteration: e.iteration + 1 }));\n    },\n    gameOver && explosion.iteration < constants.EXPLOSION_ITERATIONS ? 70 : null,\n  );\n\n  window.addEventListener('keydown', (e: KeyboardEvent) => {\n    if (ticks !== 0 && e.key in constants.MOVE_POSITION) {\n      e.preventDefault();\n      movePlayer(e.key);\n    }\n  });\n\n  return (\n    <Wrapper>\n      <Stage\n        stage={stage}\n        gameOver={gameOver && explosion.iteration === constants.EXPLOSION_ITERATIONS}\n        highScore={getHighScore()}\n        gameStarted={gameStarted}\n      />\n      <Aside>\n        {isMobile() && <Keyboard onKeyDown={key => movePlayer(key)} />}\n        <Display text={`Score: ${score}`} />\n        {gameOver && getHighScore() && explosion.iteration === constants.EXPLOSION_ITERATIONS && (\n          <Button callback={() => resetHighScore()} text={'Reset High Score'} />\n        )}\n        {!gameStarted && <Button callback={() => startGame()} text={'Start Game'} />}\n        {gameStarted && (\n          <Button\n            callback={() => !gameOver && setSpeed(speed ? null : constants.INITIAL_SPEED)}\n            text={speed === null ? 'Resume' : 'Pause'}\n            disabled={gameOver}\n          />\n        )}\n        {gameOver && explosion.iteration === constants.EXPLOSION_ITERATIONS && (\n          <Button callback={() => restartGame()} text={'Restart'} />\n        )}\n      </Aside>\n    </Wrapper>\n  );\n};\n\nexport default App;\n","import React from 'react';\n\nimport { StyledKey } from './StyledKey';\n\ninterface Props {\n  direction: string;\n  onPress: () => any;\n}\n\nconst Key: React.FC<Props> = ({ direction, onPress }) => <StyledKey onClick={onPress}>{direction}</StyledKey>;\n\nexport default Key;\n","import React from 'react';\n\nimport StyledKeyboard from './StyledKeyboard';\nimport Key from './Key';\nimport { KeyWrapper } from './StyledKey';\nimport { ArrowCode, KeyToMove } from '../../utils/constants';\n\ninterface Props {\n  onKeyDown: (key: string) => void;\n}\n\nconst Keyboard: React.FC<Props> = ({ onKeyDown }) => {\n  return (\n    <StyledKeyboard>\n      <KeyWrapper>\n        <Key direction={ArrowCode.UP} onPress={() => onKeyDown(KeyToMove.UP)} />\n      </KeyWrapper>\n      <KeyWrapper>\n        <Key direction={ArrowCode.LEFT} onPress={() => onKeyDown(KeyToMove.LEFT)} />\n        <Key direction={ArrowCode.DOWN} onPress={() => onKeyDown(KeyToMove.DOWN)} />\n        <Key direction={ArrowCode.RIGHT} onPress={() => onKeyDown(KeyToMove.RIGHT)} />\n      </KeyWrapper>\n    </StyledKeyboard>\n  );\n};\n\nexport default Keyboard;\n","import { useState } from 'react';\n\nimport { HIGH_SCORE_KEY } from '../utils/constants';\nimport { Callback, Hook, UseStateAction } from '../utils/interfaces';\n\nexport const useScore: Hook<[number, UseStateAction<number>, () => number, Callback, Callback]> = () => {\n  const [score, setScore] = useState(0);\n\n  const saveHighScore = () => {\n    const hs = window.localStorage.getItem(HIGH_SCORE_KEY);\n    if (hs) {\n      if (Number(hs) < score) {\n        window.localStorage.setItem(HIGH_SCORE_KEY, score.toString());\n      }\n    } else {\n      window.localStorage.setItem(HIGH_SCORE_KEY, score.toString());\n    }\n  };\n\n  const getHighScore = () => {\n    const hs = window.localStorage.getItem(HIGH_SCORE_KEY);\n    return hs ? Number(hs) : 0;\n  };\n\n  const resetHighScore = () => {\n    window.localStorage.removeItem(HIGH_SCORE_KEY);\n    setScore(0);\n  };\n\n  return [score, setScore, getHighScore, saveHighScore, resetHighScore];\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}