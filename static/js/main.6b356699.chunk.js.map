{"version":3,"sources":["assets/img/light_texture.jpg","assets/img/dark_texture.jpg","utils/constants.ts","utils/helpers.ts","hooks/useStage.ts","hooks/usePlayer.ts","hooks/useInterval.ts","components/Stage/StyledStage.ts","components/Cell/StyledCell.ts","components/Cell/index.tsx","components/StageOverlay/StyledStageOverlay.ts","components/StageOverlay/index.tsx","components/Stage/StyledGameOver.ts","components/Stage/StyledHighScore.ts","components/Stage/StyledStartMessage.ts","components/Stage/index.tsx","components/Button/StyledButton.ts","components/Button/index.tsx","components/Display/StyledDisplay.ts","components/Display/index.tsx","components/Wrapper.ts","components/Aside.ts","components/Keyboard/StyledKeyboard.ts","components/Keyboard/StyledKey.ts","App.tsx","components/Keyboard/Key.tsx","components/Keyboard/index.tsx","hooks/useScore.ts","serviceWorker.ts","index.tsx"],"names":["module","exports","KeyToMove","CAR_SHAPES","ArrowCode","MOVE_POSITION","UP","x","y","DOWN","LEFT","RIGHT","EXPLOSION_SHAPES","CellType","DARK","darkTexture","LIGHT","lightTexture","checkCarsCollision","player","cars","moveX","moveY","car","pos","shape","length","isMobile","window","innerWidth","useStage","borders","explosion","useState","Array","from","fill","stage","setStage","drawOnStage","newStage","clear","forEach","row","cell","useEffect","prev","prevStage","map","b","updateStage","shapeNumber","iteration","initialPlayer","STAGE_WIDTH","STAGE_HEIGHT","useInterval","callback","delay","savedCallback","useRef","current","id","setInterval","clearInterval","StyledStage","styled","div","props","height","width","StyledCell","type","React","memo","StyledStageOverlay","GameOver","children","Stage","gameOver","highScore","gameStarted","cells","value","key","StageOverlay","StyledGameOver","StyledHighScore","StyledStartMessage","StyledButton","button","Button","text","rest","onClick","StyledDisplay","Display","Wrapper","Aside","aside","StyledKeyboard","timeoutId","StyledKey","KeyWrapper","Key","direction","onPress","Keyboard","onKeyDown","App","speed","setSpeed","secondsElapsed","setSecondsElapsed","setCars","setBorders","setExplosion","setGameOver","ticks","setTicks","setGameStarted","paused","setPaused","setPlayer","usePlayer","updatePlayerPos","resetPlayer","score","setScore","hs","localStorage","getItem","Number","setItem","toString","removeItem","useScore","getHighScore","saveHighScore","resetHighScore","movePlayer","clearTimeout","setTimeout","movePosition","constants","checkWallCollision","endGame","_movePlayer","produceCars","sh","min","max","newCars","filter","c","lastSpawnedCar","Math","ceil","floor","random","push","t","newBorders","concat","produceBorders","s","e","addEventListener","preventDefault","disabled","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.6b356699.chunk.js","sourcesContent":["module.exports = \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAASABIAAD/4QCARXhpZgAATU0AKgAAAAgABAESAAMAAAABAAEAAAEaAAUAAAABAAAAPgEbAAUAAAABAAAARodpAAQAAAABAAAATgAAAAAAAABIAAAAAQAAAEgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAACOgAwAEAAAAAQAAACMAAAAA/8AAEQgAIwAjAwERAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/bAEMAAwICAgICAwICAgMDAwMEBgQEBAQECAYGBQYJCAoKCQgJCQoMDwwKCw4LCQkNEQ0ODxAQERAKDBITEhATDxAQEP/bAEMBAwMDBAMECAQECBALCQsQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEP/dAAQABf/aAAwDAQACEQMRAD8A/QWKN7iYxoeTn7xIrw1GKPjb2LH9lzd3T/vs1nKUYsrcQ6ZNj7y9exJpc0ZaWCxFNZywR+czfKGx1PFPRAJGQEAz+tGgrH//0P0L07/j+xns1eEpHx1hkodrh8SkAk8bsUWUh2sMxJs4kzyOrH0qZRS2AtSqTpIDEn5hz171FgKij5RiqA//0f0MsP8Aj8z7NXz62PjxkjKJ3GW6v0q4gRAxlDnfkEdh6U3qBakJ/s0Fc43d/rUWArxuAg5/SiwH/9L9CLedYLje4yoJ6c18/wDZPjydrnTycmJs5545qFGXQBBLpoH+pk9fu07SAbNdwPb+RErLg8ZFNKV9QZUWNto+b9a00J5z/9P9CfLTzT8vevB6Hx4GNM/dqblIGRcD5ad2aW0GlFBBAoTZmyRR8o6/nSMGf//Z\"","module.exports = \"data:image/jpeg;base64,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\"","import { Coordinate } from './interfaces';\nimport lightTexture from '../assets/img/light_texture.jpg';\nimport darkTexture from '../assets/img/dark_texture.jpg';\n\nexport const STAGE_WIDTH = 10;\nexport const STAGE_HEIGHT = 18;\nexport const INITIAL_SPEED = 400;\nexport const HIGH_SCORE_KEY = 'tetrisHighScore';\nexport const RANDOM_CAR_SHAPES = false;\n\nexport const CAR_SHAPES = [\n  [\n    [0, 1, 0],\n    [1, 1, 1],\n    [0, 1, 0],\n    [1, 0, 1],\n  ],\n  [\n    [0, 1, 0],\n    [1, 1, 1],\n    [1, 1, 1],\n    [0, 1, 0],\n    [1, 1, 1],\n  ],\n  [\n    [1, 0, 1],\n    [1, 1, 1],\n    [0, 1, 0],\n    [1, 0, 1],\n  ],\n];\n\nexport enum KeyToMove {\n  UP = 'ArrowUp',\n  DOWN = 'ArrowDown',\n  LEFT = 'ArrowLeft',\n  RIGHT = 'ArrowRight',\n}\n\nexport const MOVE_POSITION: { [key: string]: Coordinate } = {\n  [KeyToMove.UP]: { x: 0, y: -1 },\n  [KeyToMove.DOWN]: { x: 0, y: 1 },\n  [KeyToMove.LEFT]: { x: -3, y: 0 },\n  [KeyToMove.RIGHT]: { x: 3, y: 0 },\n};\n\nexport const EXPLOSION_ITERATIONS = 10;\nexport const EXPLOSION_SHAPES = [\n  [\n    [0, 0, 1],\n    [1, 1, 1],\n    [1, 1, 0],\n    [1, 0, 1],\n  ],\n  [\n    [0, 1, 0],\n    [1, 1, 0],\n    [1, 1, 1],\n    [1, 0, 0],\n  ],\n  [\n    [0, 0, 1],\n    [0, 1, 1],\n    [1, 1, 0],\n    [0, 1, 1],\n  ],\n  [\n    [0, 1, 0],\n    [1, 1, 1],\n    [1, 1, 0],\n    [0, 1, 1],\n  ],\n  [\n    [0, 1, 0],\n    [1, 0, 1],\n    [0, 1, 1],\n    [1, 0, 0],\n  ],\n];\n\nexport const CellType = {\n  DARK: darkTexture,\n  LIGHT: lightTexture,\n};\n\nexport enum ArrowCode {\n  LEFT = '\\u2190',\n  UP = '\\u2191',\n  DOWN = '\\u2193',\n  RIGHT = '\\u2192',\n}\n","import { Car, Coordinate, Stage } from './interfaces';\nimport { STAGE_HEIGHT, STAGE_WIDTH } from './constants';\n\nexport const createStage = (): Stage => Array.from(new Array(STAGE_HEIGHT), () => new Array(STAGE_WIDTH).fill(0));\n\nexport const createBorders = (): Coordinate[] => {\n  return [\n    { x: 0, y: -1 },\n    { x: 0, y: -2 },\n    { x: 0, y: -3 },\n    { x: STAGE_WIDTH - 1, y: -1 },\n    { x: STAGE_WIDTH - 1, y: -2 },\n    { x: STAGE_WIDTH - 1, y: -3 },\n  ];\n};\n\nexport const checkWallCollision = (player: Car, stage: Stage, { x: moveX, y: moveY }: Coordinate) => {\n  if (\n    // Out to left (including car size)\n    player.pos.x + moveX + player.shape[0].length > STAGE_WIDTH ||\n    // Out to right (including car size)\n    player.pos.x + moveX < 0 ||\n    // Out to bottom (including car size and padding of 1)\n    player.pos.y + moveY + player.shape.length + 1 > STAGE_HEIGHT ||\n    // Out to top (including padding of 1)\n    player.pos.y + moveY - 1 < 0\n  ) {\n    return true;\n  }\n  return false;\n};\n\nexport const checkCarsCollision = (player: Car, cars: Car[], { x: moveX, y: moveY }: Coordinate) => {\n  for (const car of cars) {\n    if (\n      player.pos.x + moveX === car.pos.x &&\n      // Hit car moving from left to right or vice versa being on same level of lower\n      ((player.pos.y + moveY >= car.pos.y && player.pos.y + moveY < car.pos.y + car.shape.length) ||\n        // Hit car moving from left to right or vice versa being on same level of higher\n        (player.pos.y + moveY <= car.pos.y && player.pos.y + moveY + player.shape.length > car.pos.y))\n    ) {\n      return car;\n    }\n  }\n  return null;\n};\n\nexport const isMobile = () => window.innerWidth < 756;\n\nexport const getRandomInt = (min: number, max: number) => {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\n","import { useEffect, useState } from 'react';\n\nimport { createStage } from '../utils/helpers';\nimport { Car, Coordinate, Explosion, Hook, Stage } from '../utils/interfaces';\nimport { EXPLOSION_SHAPES, STAGE_HEIGHT } from '../utils/constants';\n\nexport const useStage: Hook<[Stage]> = (player: Car, borders: Coordinate[], cars: Car[], explosion: Explosion) => {\n  const [stage, setStage] = useState(createStage());\n\n  const drawOnStage = (newStage: Stage, shape: number[][], pos: Coordinate, clear = false) => {\n    shape.forEach((row, y) => {\n      row.forEach((cell, x) => {\n        const insideStage = y + pos.y >= 0 && y + pos.y < STAGE_HEIGHT;\n        if (insideStage) {\n          if (clear) {\n            newStage[y + pos.y][x + pos.x] = 0;\n          } else if (cell !== 0) {\n            newStage[y + pos.y][x + pos.x] = 1;\n          }\n        }\n      });\n    });\n  };\n\n  useEffect(() => {\n    const updateStage = (prevStage: Stage): Stage => {\n      // Clear stage\n      const newStage = prevStage.map(row => row.map(() => 0));\n\n      // Draw Player\n      drawOnStage(newStage, player.shape, player.pos);\n\n      // Draw Borders\n      borders.forEach(b => {\n        if (b.y >= 0 && b.y < STAGE_HEIGHT) {\n          newStage[b.y][b.x] = 1;\n        }\n      });\n\n      // Draw Cars\n      cars.forEach(car => drawOnStage(newStage, car.shape, car.pos));\n\n      return newStage;\n    };\n\n    setStage(prev => updateStage(prev));\n  }, [player, borders, cars]);\n\n  useEffect(() => {\n    if (explosion.car !== null) {\n      setStage(prevStage => {\n        const car = explosion.car as Car;\n        const newStage = [...prevStage];\n\n        // Clear Player\n        drawOnStage(newStage, player.shape, player.pos, true);\n\n        // Clear area around Car\n        drawOnStage(newStage, car.shape, car.pos, true);\n\n        // Draw Explosion\n        const shapeNumber = explosion.iteration % (EXPLOSION_SHAPES.length - 1);\n        const shape = EXPLOSION_SHAPES[shapeNumber];\n        drawOnStage(newStage, shape, car.pos);\n\n        return newStage;\n      });\n    }\n  }, [explosion.car, explosion.iteration, player]);\n\n  return [stage];\n};\n","import { useState } from 'react';\n\nimport { Car, Coordinate, Hook } from '../utils/interfaces';\nimport { CAR_SHAPES, STAGE_HEIGHT, STAGE_WIDTH } from '../utils/constants';\n\nconst initialPlayer = {\n  pos: { x: STAGE_WIDTH - 5, y: STAGE_HEIGHT - 5 },\n  shape: CAR_SHAPES[0],\n};\n\nexport const usePlayer: Hook<[Car, (c: Coordinate) => void, () => void]> = () => {\n  const [player, setPlayer] = useState<Car>({ ...initialPlayer });\n\n  const updatePlayerPos = ({ x, y }: Coordinate) => {\n    setPlayer(prev => ({\n      ...prev,\n      pos: { x: prev.pos.x + x, y: prev.pos.y + y },\n    }));\n  };\n\n  const resetPlayer = () => {\n    setPlayer({ ...initialPlayer });\n  };\n\n  return [player, updatePlayerPos, resetPlayer];\n};\n","import { useEffect, useRef } from 'react';\n\nimport { Callback, Hook } from '../utils/interfaces';\n\n\n// https://overreacted.io/making-setinterval-declarative-with-react-hooks/\nexport const useInterval: Hook<void> = (callback: Callback, delay: number | null) => {\n  const savedCallback = useRef<Callback>();\n\n  // Remember the latest callback.\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  // Set up the interval.\n  useEffect(() => {\n    function tick() {\n      if (savedCallback.current) {\n        savedCallback.current();\n      }\n    }\n    if (delay !== null) {\n      const id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n};\n","import styled from 'styled-components';\n\ninterface Props {\n  height: number;\n  width: number;\n}\n\nconst StyledStage = styled.div<Props>`\n  position: relative;\n  display: grid;\n  grid-template-rows: repeat(${props => props.height}, calc(25vw / ${props => props.width}));\n  grid-template-columns: repeat(${props => props.width}, 1fr);\n  box-shadow: -20px 14px 28px rgba(0, 0, 0, 0.6), 50px 10px 10px rgba(0, 0, 0, 0.6);\n  border-style: outset;\n  border-bottom-style: inset;\n  border-width: 10px;\n  border-color: #d2ffd6 #c7f1cc #caf4d0 #a0bda4;\n\n  @media screen and (max-width: 756px) {\n    transform: scale(1.2);\n    margin-bottom: 30px;\n    border-width: 8px;\n  }\n\n  @media screen and (max-width: 596px) {\n    transform: scale(1.5);\n    margin-bottom: 50px;\n    border-width: 5px;\n  }\n\n  @media screen and (max-width: 450px) {\n    transform: scale(1.8);\n    margin-bottom: 70px;\n  }\n`;\n\nexport default StyledStage;\n","import styled from 'styled-components';\n\nimport { STAGE_WIDTH } from '../../utils/constants';\n\ninterface Props {\n  type: string;\n}\n\nconst StyledCell = styled.div<Props>`\n  width: calc(25vw / ${STAGE_WIDTH});\n  background-image: url(${props => props.type});\n  background-size: cover;\n  box-shadow: 1px 1px 10px rgba(65, 103, 67, 0.2);\n`;\n\nexport default StyledCell;\n","import React from 'react';\n\nimport StyledCell from './StyledCell';\n\ninterface Props {\n  type: string;\n}\n\nconst Cell: React.FC<Props> = ({ type }) => <StyledCell type={type} />;\n\nexport default React.memo(Cell);\n","import styled from 'styled-components';\n\nconst StyledStageOverlay = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  padding: 40px;\n  pointer-events: none;\n  white-space: nowrap;\n  background: #000000;\n  border-radius: 5px;\n  opacity: 0.9;\n  text-align: center;\n\n  @media screen and (max-width: 1200px) {\n    padding: 20px;\n  }\n\n  @media screen and (max-width: 900px) {\n    padding: 10px;\n  }\n\n  @media screen and (max-width: 756px) {\n    padding: 8px;\n  }\n\n  @media screen and (max-width: 596px) {\n    padding: 5px;\n  }\n\n  @media screen and (max-width: 400px) {\n    padding: 3px;\n  }\n`;\n\nexport default StyledStageOverlay;\n","import React from 'react';\n\nimport StyledStageOverlay from './StyledStageOverlay';\n\ninterface Props {\n  children: React.ReactNode;\n}\n\nconst GameOver: React.FC<Props> = ({ children }) => <StyledStageOverlay>{children}</StyledStageOverlay>;\n\nexport default GameOver;\n","import styled from 'styled-components';\n\nexport default styled.div`\n  color: #b90000;\n  font-size: 1.7rem;\n\n  @media screen and (max-width: 900px) {\n    font-size: 1.5rem;\n  }\n\n  @media screen and (max-width: 756px) {\n    font-size: 1.2rem;\n  }\n\n  @media screen and (max-width: 596px) {\n    font-size: 0.7rem;\n  }\n  @media screen and (max-width: 400px) {\n    font-size: 0.5rem;\n  }\n`;\n","import styled from 'styled-components';\n\nexport default styled.div`\n  color: #cacaca;\n  font-size: 1.5rem;\n\n  @media screen and (max-width: 900px) {\n    font-size: 1.2rem;\n  }\n\n  @media screen and (max-width: 756px) {\n    font-size: 1rem;\n  }\n\n  @media screen and (max-width: 596px) {\n    font-size: 0.6rem;\n  }\n\n  @media screen and (max-width: 400px) {\n    font-size: 0.4rem;\n  }\n`;\n","import styled from 'styled-components';\n\nexport default styled.div`\n  font-size: 1.1rem;\n  color: #fff;\n\n  @media screen and (max-width: 1200px) {\n    font-size: 1rem;\n  }\n\n  @media screen and (max-width: 900px) {\n    font-size: 0.8rem;\n  }\n\n  @media screen and (max-width: 756px) {\n    font-size: 0.6rem;\n  }\n\n  @media screen and (max-width: 596px) {\n    font-size: 0.5rem;\n  }\n\n  @media screen and (max-width: 400px) {\n    font-size: 0.4rem;\n  }\n`;\n","import React from 'react';\n\nimport { CellType, STAGE_HEIGHT, STAGE_WIDTH } from '../../utils/constants';\nimport { Stage as IStage } from '../../utils/interfaces';\nimport StyledStage from './StyledStage';\nimport Cell from '../Cell';\nimport StageOverlay from '../StageOverlay';\nimport StyledGameOver from './StyledGameOver';\nimport StyledHighScore from './StyledHighScore';\nimport StyledStartMessage from './StyledStartMessage';\nimport { isMobile } from '../../utils/helpers';\n\ninterface Props {\n  stage: IStage;\n  gameOver: boolean;\n  highScore: number;\n  gameStarted: boolean;\n}\n\nconst Stage: React.FC<Props> = ({ stage, gameOver, highScore, gameStarted }) => {\n  const cells = stage.map((row, y) =>\n    row.map((value, x) => <Cell key={`${y}${x}${value}`} type={value !== 0 ? CellType.DARK : CellType.LIGHT} />),\n  );\n  return (\n    <StyledStage width={STAGE_WIDTH} height={STAGE_HEIGHT}>\n      {cells}\n      {gameOver && (\n        <StageOverlay>\n          <>\n            <StyledGameOver>GAME OVER</StyledGameOver>\n            <StyledHighScore>High Score: {highScore}</StyledHighScore>\n          </>\n        </StageOverlay>\n      )}\n      {!gameStarted && (\n        <StageOverlay>\n          <StyledStartMessage>\n            Welcome to tetris racing <br /> To move car use {isMobile() ? 'virtual keyboard' : 'arrow keys'}\n          </StyledStartMessage>{' '}\n        </StageOverlay>\n      )}\n    </StyledStage>\n  );\n};\n\nexport default Stage;\n","import styled from 'styled-components';\n\nconst StyledButton = styled.button`\n  padding: 20px;\n  min-height: 30px;\n  border-radius: 20px;\n  border: 1px solid #333;\n  outline: none;\n  cursor: pointer;\n  font-size: 1rem;\n  background-color: #2d2626;\n  color: #fff;\n  font-family: Tetris, sans-serif;\n  touch-action: manipulation;\n  user-select: none;\n\n  &[disabled] {\n    cursor: default;\n    color: #868485;\n  }\n\n  @media screen and (max-width: 1200px) {\n    padding: 15px;\n    font-size: 0.9rem;\n  }\n\n  @media screen and (max-width: 900px) {\n    padding: 10px;\n    font-size: 0.8rem;\n  }\n\n  @media screen and (max-width: 756px) {\n    font-size: 1.2rem;\n  }\n\n  @media screen and (max-width: 596px) {\n    font-size: 1.1rem;\n  }\n`;\n\nexport default StyledButton;\n","import React from 'react';\n\nimport StyledButton from './StyledButton';\n\ninterface Props {\n  callback: () => void;\n  text: string;\n  disabled?: boolean;\n}\n\nconst Button: React.FC<Props> = ({ callback, text, ...rest }) => {\n  return <StyledButton onClick={callback} {...rest}>{text}</StyledButton>;\n};\n\nexport default Button;\n","import styled from 'styled-components';\n\nconst StyledDisplay = styled.div`\n  display: flex;\n  align-items: center;\n  padding: 20px;\n  border: 4px solid #333;\n  min-height: 30px;\n  border-radius: 20px;\n  color: #999;\n  background: #000;\n  font-size: 1.1rem;\n\n  @media screen and (max-width: 1200px) {\n    padding: 15px;\n  }\n\n  @media screen and (max-width: 900px) {\n    padding: 10px;\n    font-size: 1rem;\n  }\n\n  @media screen and (max-width: 756px) {\n    font-size: 1.3rem;\n  }\n\n  @media screen and (max-width: 596px) {\n    font-size: 1.2rem;\n  }\n`;\n\nexport default StyledDisplay;\n","import React from 'react';\n\nimport StyledDisplay from './StyledDisplay';\n\ninterface Props {\n  text: string;\n}\n\nconst Display: React.FC<Props> = ({ text }) => {\n  return <StyledDisplay>{text}</StyledDisplay>;\n};\n\nexport default Display;\n","import styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n  padding-top: 50px;\n\n  @media screen and (max-width: 756px) {\n    padding-top: 70px;\n  }\n\n  @media screen and (max-width: 596px) {\n    padding-top: 90px;\n  }\n`;\n\nexport default Wrapper;\n","import styled from 'styled-components';\n\nconst Aside = styled.aside`\n  display: flex;\n  flex-direction: column;\n  margin-left: 50px;\n  width: 15%;\n\n  button,\n  div {\n    margin-bottom: 20px;\n  }\n\n  @media screen and (max-width: 756px) {\n    width: 100%;\n    margin: 50px 50px 0 50px;\n\n    button,\n    div {\n      margin-bottom: 10px;\n    }\n  }\n`;\n\nexport default Aside;\n","import styled from 'styled-components';\n\nconst StyledKeyboard = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  text-align: center;\n`;\n\nexport default StyledKeyboard;\n","import styled from 'styled-components';\n\nexport const StyledKey = styled.button`\n  border: 1px solid #252525;\n  color: #252525;\n  padding: 5px;\n  background-color: #808088;\n  width: 100%;\n  margin: 0 !important;\n  outline: none;\n  font-size: 1.4rem;\n  font-weight: bold;\n  touch-action: manipulation;\n  user-select: none;\n`;\n\nexport const KeyWrapper = styled.div`\n  display: flex;\n  margin: 0 !important;\n  width: 100%;\n`;\n","import React, { useState } from 'react';\n\nimport './App.css';\nimport { useStage } from './hooks/useStage';\nimport { usePlayer } from './hooks/usePlayer';\nimport { useInterval } from './hooks/useInterval';\nimport { useScore } from './hooks/useScore';\nimport { checkCarsCollision, checkWallCollision, createBorders, getRandomInt, isMobile } from './utils/helpers';\nimport * as constants from './utils/constants';\nimport { Car, Coordinate, Explosion } from './utils/interfaces';\nimport Stage from './components/Stage';\nimport Button from './components/Button';\nimport Display from './components/Display';\nimport Wrapper from './components/Wrapper';\nimport Aside from './components/Aside';\nimport Keyboard from './components/Keyboard';\n\nlet timeoutId: number | null;\n\nconst App: React.FC = () => {\n  const [speed, setSpeed] = useState<number | null>(null);\n  const [secondsElapsed, setSecondsElapsed] = useState<number>(0);\n  const [cars, setCars] = useState<Car[]>([]);\n  const [borders, setBorders] = useState<Coordinate[]>([]);\n  const [explosion, setExplosion] = useState<Explosion>({ car: null, iteration: 0 });\n  const [gameOver, setGameOver] = useState(false);\n  const [ticks, setTicks] = useState(0);\n  const [gameStarted, setGameStarted] = useState(false);\n  const [paused, setPaused] = useState(false);\n\n  const [player, updatePlayerPos, resetPlayer] = usePlayer();\n  const [stage] = useStage(player, borders, cars, explosion);\n  const [score, setScore, getHighScore, saveHighScore, resetHighScore] = useScore();\n\n  const _movePlayer = (key: string) => {\n    const movePosition = constants.MOVE_POSITION[key];\n    if (speed !== null && !gameOver && !checkWallCollision(player, stage, movePosition)) {\n      const car = checkCarsCollision(player, cars, movePosition);\n      if (!car) {\n        updatePlayerPos(movePosition);\n      } else {\n        endGame(car);\n      }\n    }\n  };\n\n  const movePlayer = (key: string) => {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n    }\n    timeoutId = setTimeout(() => {\n      _movePlayer(key);\n    }, 5);\n  };\n\n  const getRandomSide = () => (Math.random() > 0.5 ? constants.STAGE_WIDTH - 5 : 2);\n\n  const startGame = () => {\n    setSpeed(constants.INITIAL_SPEED);\n    setGameStarted(true);\n  };\n\n  const restartGame = () => {\n    setGameOver(false);\n    setExplosion({ car: null, iteration: 0 });\n    setTicks(0);\n    setScore(0);\n    setSecondsElapsed(0);\n    resetPlayer();\n    setSpeed(constants.INITIAL_SPEED);\n    setCars([]);\n    setBorders([]);\n  };\n\n  const endGame = (car: Car) => {\n    setGameOver(true);\n    setExplosion({ car, iteration: 0 });\n    saveHighScore();\n  };\n\n  const produceBorders = () => {\n    let newBorders = (borders as Coordinate[])\n      .filter(b => b.y < constants.STAGE_HEIGHT)\n      .map(b => ({ ...b, y: b.y + 1 }));\n    if (ticks % 4 === 0) {\n      newBorders = newBorders.concat(createBorders());\n    }\n    setBorders(newBorders);\n  };\n\n  const produceCars = () => {\n    const newCars = (cars as Car[])\n      .filter(c => c.pos.y < constants.STAGE_HEIGHT)\n      .map(c => ({ ...c, pos: { ...c.pos, y: c.pos.y + 1 } }));\n    const lastSpawnedCar = newCars[newCars.length - 1];\n    if (newCars.length === 0 || (ticks % getRandomInt(8, 10) === 0 && lastSpawnedCar.pos.y > 4)) {\n      let sh: number[][];\n      if (constants.RANDOM_CAR_SHAPES) {\n        sh = constants.CAR_SHAPES[Math.floor(Math.random() * constants.CAR_SHAPES.length)];\n      } else {\n        sh = constants.CAR_SHAPES[0];\n      }\n      newCars.push({ shape: sh, pos: { x: getRandomSide(), y: -3 } });\n    }\n    setCars(newCars);\n  };\n\n  useInterval(\n    () => {\n      setSecondsElapsed(t => t + 1);\n    },\n    gameOver || paused ? null : 1000,\n  );\n\n  useInterval(\n    () => {\n      produceBorders();\n      produceCars();\n\n      setTicks(t => t + 1);\n\n      // Increase speed every 30 seconds\n      if (speed !== null && secondsElapsed !== 0 && secondsElapsed % 30 === 0) {\n        setSpeed(speed / 1.1);\n      }\n      const car = checkCarsCollision(player, cars, { x: 0, y: -1 });\n      if (car) {\n        endGame(car);\n        return;\n      }\n\n      setScore((s: number) => Math.floor(s + (1000 / (speed as number)) * 10));\n    },\n    gameOver || paused ? null : speed,\n  );\n\n  useInterval(\n    () => {\n      setExplosion(e => ({ ...e, iteration: e.iteration + 1 }));\n    },\n    gameOver && explosion.iteration < constants.EXPLOSION_ITERATIONS ? 70 : null,\n  );\n\n  window.addEventListener('keydown', (e: KeyboardEvent) => {\n    if (ticks !== 0 && e.key in constants.MOVE_POSITION) {\n      e.preventDefault();\n      movePlayer(e.key);\n    }\n  });\n\n  return (\n    <Wrapper>\n      <Stage\n        stage={stage}\n        gameOver={gameOver && explosion.iteration === constants.EXPLOSION_ITERATIONS}\n        highScore={getHighScore()}\n        gameStarted={gameStarted}\n      />\n      <Aside>\n        {isMobile() && <Keyboard onKeyDown={key => movePlayer(key)} />}\n        <Display text={`Score: ${score}`} />\n        {gameOver && getHighScore() && explosion.iteration === constants.EXPLOSION_ITERATIONS && (\n          <Button callback={() => resetHighScore()} text={'Reset High Score'} />\n        )}\n        {!gameStarted && <Button callback={() => startGame()} text={'Start Game'} />}\n        {gameStarted && (\n          <Button\n            callback={() => !gameOver && setPaused(!paused)}\n            text={paused ? 'Resume' : 'Pause'}\n            disabled={gameOver}\n          />\n        )}\n        {gameOver && explosion.iteration === constants.EXPLOSION_ITERATIONS && (\n          <Button callback={() => restartGame()} text={'Restart'} />\n        )}\n      </Aside>\n    </Wrapper>\n  );\n};\n\nexport default App;\n","import React from 'react';\n\nimport { StyledKey } from './StyledKey';\n\ninterface Props {\n  direction: string;\n  onPress: () => any;\n}\n\nconst Key: React.FC<Props> = ({ direction, onPress }) => <StyledKey onClick={onPress}>{direction}</StyledKey>;\n\nexport default Key;\n","import React from 'react';\n\nimport StyledKeyboard from './StyledKeyboard';\nimport Key from './Key';\nimport { KeyWrapper } from './StyledKey';\nimport { ArrowCode, KeyToMove } from '../../utils/constants';\n\ninterface Props {\n  onKeyDown: (key: string) => void;\n}\n\nconst Keyboard: React.FC<Props> = ({ onKeyDown }) => {\n  return (\n    <StyledKeyboard>\n      <KeyWrapper>\n        <Key direction={ArrowCode.UP} onPress={() => onKeyDown(KeyToMove.UP)} />\n      </KeyWrapper>\n      <KeyWrapper>\n        <Key direction={ArrowCode.LEFT} onPress={() => onKeyDown(KeyToMove.LEFT)} />\n        <Key direction={ArrowCode.DOWN} onPress={() => onKeyDown(KeyToMove.DOWN)} />\n        <Key direction={ArrowCode.RIGHT} onPress={() => onKeyDown(KeyToMove.RIGHT)} />\n      </KeyWrapper>\n    </StyledKeyboard>\n  );\n};\n\nexport default Keyboard;\n","import { useState } from 'react';\n\nimport { HIGH_SCORE_KEY } from '../utils/constants';\nimport { Callback, Hook, UseStateAction } from '../utils/interfaces';\n\nexport const useScore: Hook<[number, UseStateAction<number>, () => number, Callback, Callback]> = () => {\n  const [score, setScore] = useState(0);\n\n  const saveHighScore = () => {\n    const hs = window.localStorage.getItem(HIGH_SCORE_KEY);\n    if (hs) {\n      if (Number(hs) < score) {\n        window.localStorage.setItem(HIGH_SCORE_KEY, score.toString());\n      }\n    } else {\n      window.localStorage.setItem(HIGH_SCORE_KEY, score.toString());\n    }\n  };\n\n  const getHighScore = () => {\n    const hs = window.localStorage.getItem(HIGH_SCORE_KEY);\n    return hs ? Number(hs) : 0;\n  };\n\n  const resetHighScore = () => {\n    window.localStorage.removeItem(HIGH_SCORE_KEY);\n    setScore(0);\n  };\n\n  return [score, setScore, getHighScore, saveHighScore, resetHighScore];\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}